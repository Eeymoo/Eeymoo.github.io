import{_ as l}from"./preload-helper.e170070.js";function c(){const d=document.querySelectorAll(".search-input");let n=!1,o=null;const s=async()=>(o||(o=l(()=>import("./search-core.e170070.js"),[])),o),r=async()=>{const e=document.getElementById("search-modal");if(e){e.classList.remove("hidden");const t=document.getElementById("modal-search-input");if(t&&t.focus(),!n)try{const{initSearchCore:a}=await s();a(),n=!0}catch(a){console.error("Failed to load search core:",a)}}};document.addEventListener("keydown",e=>{(e.ctrlKey||e.metaKey)&&e.key==="k"&&(e.preventDefault(),r())}),d.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),r()}),e.addEventListener("focus",t=>{t.preventDefault(),e.blur(),r()})})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c();

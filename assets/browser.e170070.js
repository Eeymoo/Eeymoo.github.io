var E=Uint8Array,z=Uint16Array,hr=Int32Array,tr=new E([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ur=new E([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ir=new E([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yr=function(r,a){for(var n=new z(31),e=0;e<31;++e)n[e]=a+=1<<r[e-1];for(var v=new hr(n[30]),e=1;e<30;++e)for(var f=n[e];f<n[e+1];++f)v[f]=f-n[e]<<5|e;return{b:n,r:v}},Fr=yr(tr,2),Sr=Fr.b,er=Fr.r;Sr[28]=258,er[258]=28;var Tr=yr(ur,0),Mr=Tr.r,vr=new z(32768);for(var w=0;w<32768;++w){var P=(w&43690)>>1|(w&21845)<<1;P=(P&52428)>>2|(P&13107)<<2,P=(P&61680)>>4|(P&3855)<<4,vr[w]=((P&65280)>>8|(P&255)<<8)>>1}var j=(function(r,a,n){for(var e=r.length,v=0,f=new z(a);v<e;++v)r[v]&&++f[r[v]-1];var t=new z(a);for(v=1;v<a;++v)t[v]=t[v-1]+f[v-1]<<1;var o;if(n){o=new z(1<<a);var c=15-a;for(v=0;v<e;++v)if(r[v])for(var i=v<<4|r[v],l=a-r[v],x=t[r[v]-1]++<<l,k=x|(1<<l)-1;x<=k;++x)o[vr[x]>>c]=i}else for(o=new z(e),v=0;v<e;++v)r[v]&&(o[v]=vr[t[r[v]-1]++]>>15-r[v]);return o}),V=new E(288);for(var w=0;w<144;++w)V[w]=8;for(var w=144;w<256;++w)V[w]=9;for(var w=256;w<280;++w)V[w]=7;for(var w=280;w<288;++w)V[w]=8;var m=new E(32);for(var w=0;w<32;++w)m[w]=5;var Dr=j(V,9,0),Ir=j(m,5,0),sr=function(r){return(r+7)/8|0},Ur=function(r,a,n){return(n==null||n>r.length)&&(n=r.length),new E(r.subarray(a,n))},L=function(r,a,n){n<<=a&7;var e=a/8|0;r[e]|=n,r[e+1]|=n>>8},b=function(r,a,n){n<<=a&7;var e=a/8|0;r[e]|=n,r[e+1]|=n>>8,r[e+2]|=n>>16},nr=function(r,a){for(var n=[],e=0;e<r.length;++e)r[e]&&n.push({s:e,f:r[e]});var v=n.length,f=n.slice();if(!v)return{t:zr,l:0};if(v==1){var t=new E(n[0].s+1);return t[n[0].s]=1,{t,l:1}}n.sort(function(S,I){return S.f-I.f}),n.push({s:-1,f:25001});var o=n[0],c=n[1],i=0,l=1,x=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};l!=v-1;)o=n[n[i].f<n[x].f?i++:x++],c=n[i!=l&&n[i].f<n[x].f?i++:x++],n[l++]={s:-1,f:o.f+c.f,l:o,r:c};for(var k=f[0].s,e=1;e<v;++e)f[e].s>k&&(k=f[e].s);var y=new z(k+1),T=fr(n[l-1],y,0);if(T>a){var e=0,M=0,N=T-a,Q=1<<N;for(f.sort(function(I,F){return y[F.s]-y[I.s]||I.f-F.f});e<v;++e){var K=f[e].s;if(y[K]>a)M+=Q-(1<<T-y[K]),y[K]=a;else break}for(M>>=N;M>0;){var R=f[e].s;y[R]<a?M-=1<<a-y[R]++-1:++e}for(;e>=0&&M;--e){var D=f[e].s;y[D]==a&&(--y[D],++M)}T=a}return{t:new E(y),l:T}},fr=function(r,a,n){return r.s==-1?Math.max(fr(r.l,a,n+1),fr(r.r,a,n+1)):a[r.s]=n},Ar=function(r){for(var a=r.length;a&&!r[--a];);for(var n=new z(++a),e=0,v=r[0],f=1,t=function(c){n[e++]=c},o=1;o<=a;++o)if(r[o]==v&&o!=a)++f;else{if(!v&&f>2){for(;f>138;f-=138)t(32754);f>2&&(t(f>10?f-11<<5|28690:f-3<<5|12305),f=0)}else if(f>3){for(t(v),--f;f>6;f-=6)t(8304);f>2&&(t(f-3<<5|8208),f=0)}for(;f--;)t(v);f=1,v=r[o]}return{c:n.subarray(0,e),n:a}},_=function(r,a){for(var n=0,e=0;e<a.length;++e)n+=r[e]*a[e];return n},Cr=function(r,a,n){var e=n.length,v=sr(a+2);r[v]=e&255,r[v+1]=e>>8,r[v+2]=r[v]^255,r[v+3]=r[v+1]^255;for(var f=0;f<e;++f)r[v+f+4]=n[f];return(v+4+e)*8},xr=function(r,a,n,e,v,f,t,o,c,i,l){L(a,l++,n),++v[256];for(var x=nr(v,15),k=x.t,y=x.l,T=nr(f,15),M=T.t,N=T.l,Q=Ar(k),K=Q.c,R=Q.n,D=Ar(M),S=D.c,I=D.n,F=new z(19),u=0;u<K.length;++u)++F[K[u]&31];for(var u=0;u<S.length;++u)++F[S[u]&31];for(var h=nr(F,7),s=h.t,W=h.l,C=19;C>4&&!s[ir[C-1]];--C);var X=i+5<<3,U=_(v,V)+_(f,m)+t,q=_(v,k)+_(f,M)+t+14+3*C+_(F,s)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&X<=U&&X<=q)return Cr(a,l,r.subarray(c,c+i));var G,g,B,O;if(L(a,l,1+(q<U)),l+=2,q<U){G=j(k,y,0),g=k,B=j(M,N,0),O=M;var p=j(s,W,0);L(a,l,R-257),L(a,l+5,I-1),L(a,l+10,C-4),l+=14;for(var u=0;u<C;++u)L(a,l+3*u,s[ir[u]]);l+=3*C;for(var H=[K,S],$=0;$<2;++$)for(var Y=H[$],u=0;u<Y.length;++u){var J=Y[u]&31;L(a,l,p[J]),l+=s[J],J>15&&(L(a,l,Y[u]>>5&127),l+=Y[u]>>12)}}else G=Dr,g=V,B=Ir,O=m;for(var u=0;u<o;++u){var A=e[u];if(A>255){var J=A>>18&31;b(a,l,G[J+257]),l+=g[J+257],J>7&&(L(a,l,A>>23&31),l+=tr[J]);var Z=A&31;b(a,l,B[Z]),l+=O[Z],Z>3&&(b(a,l,A>>5&8191),l+=ur[Z])}else b(a,l,G[A]),l+=g[A]}return b(a,l,G[256]),l+g[256]},qr=new hr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zr=new E(0),Br=function(r,a,n,e,v,f){var t=f.z||r.length,o=new E(e+t+5*(1+Math.ceil(t/7e3))+v),c=o.subarray(e,o.length-v),i=f.l,l=(f.r||0)&7;if(a){l&&(c[0]=f.r>>3);for(var x=qr[a-1],k=x>>13,y=x&8191,T=(1<<n)-1,M=f.p||new z(32768),N=f.h||new z(T+1),Q=Math.ceil(n/3),K=2*Q,R=function(ar){return(r[ar]^r[ar+1]<<Q^r[ar+2]<<K)&T},D=new hr(25e3),S=new z(288),I=new z(32),F=0,u=0,h=f.i||0,s=0,W=f.w||0,C=0;h+2<t;++h){var X=R(h),U=h&32767,q=N[X];if(M[U]=q,N[X]=U,W<=h){var G=t-h;if((F>7e3||s>24576)&&(G>423||!i)){l=xr(r,c,0,D,S,I,u,s,C,h-C,l),s=F=u=0,C=h;for(var g=0;g<286;++g)S[g]=0;for(var g=0;g<30;++g)I[g]=0}var B=2,O=0,p=y,H=U-q&32767;if(G>2&&X==R(h-H))for(var $=Math.min(k,G)-1,Y=Math.min(32767,h),J=Math.min(258,G);H<=Y&&--p&&U!=q;){if(r[h+B]==r[h+B-H]){for(var A=0;A<J&&r[h+A]==r[h+A-H];++A);if(A>B){if(B=A,O=H,A>$)break;for(var Z=Math.min(H,A-2),wr=0,g=0;g<Z;++g){var d=h-H+g&32767,kr=M[d],or=d-kr&32767;or>wr&&(wr=or,q=d)}}}U=q,q=M[U],H+=U-q&32767}if(O){D[s++]=268435456|er[B]<<18|Mr[O];var cr=er[B]&31,gr=Mr[O]&31;u+=tr[cr]+ur[gr],++S[257+cr],++I[gr],W=h+B,++F}else D[s++]=r[h],++S[r[h]]}}for(h=Math.max(h,W);h<t;++h)D[s++]=r[h],++S[r[h]];l=xr(r,c,i,D,S,I,u,s,C,h-C,l),i||(f.r=l&7|c[l/8|0]<<3,l-=7,f.h=N,f.p=M,f.i=h,f.w=W)}else{for(var h=f.w||0;h<t+i;h+=65535){var rr=h+65535;rr>=t&&(c[l/8|0]=i,rr=t),l=Cr(c,l+1,r.subarray(h,rr))}f.i=t}return Ur(o,0,e+sr(l)+v)},Er=(function(){for(var r=new Int32Array(256),a=0;a<256;++a){for(var n=a,e=9;--e;)n=(n&1&&-306674912)^n>>>1;r[a]=n}return r})(),Gr=function(){var r=-1;return{p:function(a){for(var n=r,e=0;e<a.length;++e)n=Er[n&255^a[e]]^n>>>8;r=n},d:function(){return~r}}},Hr=function(r,a,n,e,v){if(!v&&(v={l:1},a.dictionary)){var f=a.dictionary.subarray(-32768),t=new E(f.length+r.length);t.set(f),t.set(r,f.length),r=t,v.w=f.length}return Br(r,a.level==null?6:a.level,a.mem==null?v.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+a.mem,n,e,v)},lr=function(r,a,n){for(;n;++a)r[a]=n,n>>>=8},Jr=function(r,a){var n=a.filename;if(r[0]=31,r[1]=139,r[2]=8,r[8]=a.level<2?4:a.level==9?2:0,r[9]=3,a.mtime!=0&&lr(r,4,Math.floor(new Date(a.mtime||Date.now())/1e3)),n){r[3]=8;for(var e=0;e<=n.length;++e)r[e+10]=n.charCodeAt(e)}},Kr=function(r){return 10+(r.filename?r.filename.length+1:0)};function Or(r,a){a||(a={});var n=Gr(),e=r.length;n.p(r);var v=Hr(r,a,Kr(a),8),f=v.length;return Jr(v,a),lr(v,f-8,n.d()),lr(v,f-4,e),v}var Lr=typeof TextDecoder<"u"&&new TextDecoder,Nr=0;try{Lr.decode(zr,{stream:!0}),Nr=1}catch{}export{Or as compressSync,Or as gzipSync};
